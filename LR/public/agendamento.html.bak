<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lucimara Ribeiro - Agendamento</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='logo.png') }}" />
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <!-- FullCalendar CDN -->
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.css' rel='stylesheet' />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.js'></script>
</head>
<body>
    <!-- Hero --->
    <header class="hero">
        <div class="logo-container">
            <img src="{{ url_for('static', filename='logo.png') }}" alt="Lucimara Ribeiro Logo" class="logo">
        </div>
        <div class="subtitle">Estúdio Lucimara Ribeiro</div>
    </header>

    <!-- Container do Formulário -->
    <div class="form-container">
        <h2>Agendar Serviço</h2>

        {% if request.args.get('msg') %}
        <div class="success">{{ request.args.get('msg') }}</div>
        {% endif %}

        {% if erro %}
        <div class="alert error">{{ erro }}</div>
        {% endif %}

        <form id="agendamento-form" method="POST">
            <div class="form-group">
                <label for="categoria">Categoria do Serviço:</label>
                <select id="categoria" name="categoria" required>
                    <option value="">-- Escolha uma Categoria --</option>
                    <!-- Carregado via JS -->
                </select>
            </div>

            <div class="form-group" id="servico-group" style="display: none;">
                <label>Selecione os Serviços:</label>
                <div id="servicos-checkboxes">
                    <!-- Checkboxes carregados via JS -->
                </div>
                <p id="total-info" style="margin-top: 10px; font-weight: bold;">Total: Preço R$ 0,00</p>
            </div>

            <div class="form-group" id="profissional-group" style="display: none;">
                <label for="profissional">Selecione o Profissional:</label>
                <select id="profissional" name="id_profissional" required>
                    <option value="">-- Escolha um Profissional --</option>
                    <!-- Carregado via JS -->
                </select>
            </div>

            <div class="form-group" id="calendario-group" style="display: none;">
                <label>Selecione a Data e Horário:</label>
                <div id="calendar"></div>
                <p id="horarios-msg" style="text-align: center; color: #ad1457; display: none;">Nenhum horário disponível para esta data.</p>
                <input type="hidden" id="data_agendamento" name="data_agendamento">
                <input type="hidden" id="hora_agendamento" name="hora_agendamento">
            </div>

            <div class="form-group">
                <label for="obs">Observações:</label>
                <textarea id="obs" name="observacoes" rows="3"></textarea>
            </div>

            <button type="submit" class="btn" disabled>Agendar</button>
        </form>
    </div>

    <!-- Carrossel -->
    <div class="carousel">
        <div class="carousel-track">
            <img src="{{ url_for('static', filename='nail1.jpg') }}" alt="Nail 1">
            <img src="{{ url_for('static', filename='nail2.jpg') }}" alt="Nail 2">
            <img src="{{ url_for('static', filename='nail3.jpg') }}" alt="Nail 3">
            <img src="{{ url_for('static', filename='nail4.jpg') }}" alt="Nail 4">
            <img src="{{ url_for('static', filename='nail5.jpg') }}" alt="Nail 5">
            <img src="{{ url_for('static', filename='nail6.jpg') }}" alt="Nail 6">
            <img src="{{ url_for('static', filename='nail7.jpg') }}" alt="Nail 7">
            <!-- Duplicado para rolagem contínua -->
            <img src="{{ url_for('static', filename='nail1.jpg') }}" alt="Nail 1">
            <img src="{{ url_for('static', filename='nail2.jpg') }}" alt="Nail 2">
            <img src="{{ url_for('static', filename='nail3.jpg') }}" alt="Nail 3">
            <img src="{{ url_for('static', filename='nail4.jpg') }}" alt="Nail 4">
            <img src="{{ url_for('static', filename='nail5.jpg') }}" alt="Nail 5">
            <img src="{{ url_for('static', filename='nail6.jpg') }}" alt="Nail 6">
            <img src="{{ url_for('static', filename='nail7.jpg') }}" alt="Nail 7">
        </div>
    </div>

    <!-- Rodapé -->
    <footer class="rodape">
        <p>© 2025 Estúdio Lucimara Ribeiro. Todos os direitos reservados.</p>
        <p>Desde 2007 - @LuRibeiroBeauty</p>
    </footer>
</body>
</html>
